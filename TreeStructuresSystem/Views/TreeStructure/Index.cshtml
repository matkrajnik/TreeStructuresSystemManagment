@model IEnumerable<TreeStructuresSystem.Models.Node>
@inject TreeStructuresSystem.Data.Context _context
@{
    ViewData["Title"] = "Home";
}
<h2>Your Tree</h2>
<!-- Modal ADD -->
<div class="modal fade" id="add-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">New Node</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-body-message"></div>
            <div>
                <div class="row justify-content-center">
                    <div class="form-group col-md-10">
                        <label for="name" class="add-input-name">Name</label>
                        <input type="text"  maxlength="60" required class="form-control" id="name" name="categoryName">
                    </div>      
                    <div class="row">
                        <span id="add-error"></span>
                    </div>
                </div>
                
            </div>
            <div class="modal-footer addButtons">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="confirm-add">Add</button>
            </div>

        </div>
    </div>
</div>
<!-- MODAL EDIT-->
<div class="modal fade" id="edit-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Editing</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div id="modalBody" class="modal-body edit-modal-body">
            </div>
        </div>
    </div>
</div>
<!--MODAL REMOVE-->
<div class="modal fade" id="delete-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Info</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-body-message"></div>
            <div class="modal-footer deleteButtons">
                <button type="button" class="btn btn-default" data-dismiss="modal" id="cancel-delete">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>
</div>

@if (Model.ToList().Count > 0)
{
    <div class="row collapse-row">
        <div class="col-md-2">
            <span class="collapse-all"><a class="btn btn-warning text-white">Collapse All!</a></span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 ">
            <ul>
                @await Component.InvokeAsync("TreeComponent", new { isFirstCall = true })
            </ul>
        </div>
    </div>
}
else
{
<div class="row justify-content-center">
    <h3>Create new Tree!</h3>
</div>
<div class="row justify-content-center">
    <a class="btn btn-dark add render font-white"
       data-id=null
       data-controller="TreeStructure"
       data-action="Add"
       data-body-message="Create new Tree!">Add Node</a>
</div>
    
}
